# -------------------------------------------
# nginx log on various distros

# debian, arch
nginx_log:
  name: 'nginx'
  path: '/var/log/nginx/access.log'

# gentoo
nginx_log2:
  name: 'nginx'
  path: '/var/log/nginx/localhost.access_log'


# -------------------------------------------
# apache log on various distros

# debian
apache_log:
  name: 'apache'
  path: '/var/log/apache2/access.log'

# gentoo
apache_log2:
  name: 'apache'
  path: '/var/log/apache2/access_log'

# arch
apache_log3:
  name: 'apache'
  path: '/var/log/httpd/access_log'

# debian
apache_vhosts_log:
  name: 'apache_vhosts'
  path: '/var/log/apache2/other_vhosts_access.log'


# -------------------------------------------
# gunicorn log on various distros

gunicorn_log:
  name: 'gunicorn'
  path: '/var/log/gunicorn/access.log'

gunicorn_log2:
  name: 'gunicorn'
  path: '/var/log/gunicorn/gunicorn-access.log'

# -------------------------------------------
# OpenIO SDS logs
{% for rawx in netdata_openio_service_rawx -%}
{{ rawx[0] }}-{{ rawx[1] }}-{{ rawx[2] }}:
  name: '.openio.{{ rawx[0] }}.{{ rawx[1] }}.{{ rawx[1] }}-{{ rawx[2] }}.log.access'
  path: '/var/log/oio/sds/{{ rawx[0] }}/{{ rawx[1] }}-{{ rawx[2] }}/{{ rawx[1] }}-{{ rawx[2] }}-httpd-access.log'
  custom_log_format:
    pattern: '\S+ \S+ \S+ \S+ \S+ \d+ \d+ \S+ \S+ (?P<address>\S+) \S+ (?P<method>\S+) (?P<code>\d+) (?P<resp_time>\d+) (?P<bytes_sent>\d+) \S+ \S+ (?P<url>.*)'

{% endfor -%}
{% for meta in netdata_openio_service_meta -%}
{{ meta[0] }}-{{ meta[1] }}-{{ meta[2] }}:
  name: '.openio.{{ meta[0] }}.{{ meta[1] }}.{{ meta[1] }}-{{ meta[2] }}.log.access'
  path: '/var/log/oio/sds/{{ meta[0] }}/{{ meta[1] }}-{{ meta[2] }}/{{ meta[1] }}-{{ meta[2] }}.access'
  custom_log_format:
    pattern: '\S+ \S+ \S+ \S+  \S+ \S+ \S+ \S+ (?P<address>\S+) \S+ (?P<method>\S+) (?P<code>\d+) (?P<resp_time>\d+) (?P<bytes_sent>\d+) \S+ \S+ \S+ (?P<url>.*)'
{% endfor -%}

{% for swift in netdata_openio_service_oioswift -%}
{{ swift[0] }}-{{ swift[1] }}-{{ swift[2] }}:
  name: '.openio.{{ swift[0] }}.{{ swift[1] }}.{{ swift[1] }}-{{ swift[2] }}.log.access'
  path: '/var/log/oio/sds/{{ swift[0] }}/{{ swift[1] }}-{{ swift[2] }}/{{ swift[1] }}-{{ swift[2] }}.log.access'
  custom_log_format:
    pattern: '\S+ \S+ \S+ \S+  \S+ (?P<address>\S+) \S+ (?P<method>\S+) (?P<url>\S+) \S+ (?P<code>\d+) \S+ \S+ \S+ (?P<resp_length>\d+|-) (?P<bytes_sent>\d+|-) \S+ \S+ \S+ (?P<resp_time>\d+\.\d+) .*'
    time_multiplier: 1000000
{% endfor -%}
